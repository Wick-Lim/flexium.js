<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flexium.js Showcase - All Features Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 40px 20px;
        }

        #app {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 48px;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 20px;
            opacity: 0.9;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 24px;
            margin-bottom: 24px;
        }

        .card {
            background: white;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0,0,0,0.15);
        }

        .card h2 {
            font-size: 24px;
            color: #333;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .card .subtitle {
            font-size: 14px;
            color: #666;
            margin-bottom: 20px;
        }

        .feature-icon {
            font-size: 24px;
        }

        .count-display {
            font-size: 48px;
            font-weight: 700;
            color: #667eea;
            text-align: center;
            margin: 20px 0;
            font-variant-numeric: tabular-nums;
        }

        .button-group {
            display: flex;
            gap: 8px;
            justify-content: center;
            flex-wrap: wrap;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: 600;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.1s, box-shadow 0.2s;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }

        button:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        button:active {
            transform: scale(0.98);
        }

        button.secondary {
            background: #e0e7ff;
            color: #667eea;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        input[type="text"] {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border: 2px solid #e0e7ff;
            border-radius: 8px;
            margin-bottom: 12px;
            transition: border-color 0.2s;
        }

        input[type="text"]:focus {
            outline: none;
            border-color: #667eea;
        }

        .output-text {
            padding: 12px;
            background: #f8f9ff;
            border-radius: 8px;
            color: #333;
            font-size: 16px;
            min-height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background: #f8f9ff;
            border-radius: 8px;
            margin-bottom: 12px;
        }

        .checkbox-group input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .checkbox-group label {
            font-size: 16px;
            color: #333;
            cursor: pointer;
        }

        .hidden {
            display: none;
        }

        .list-items {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 12px;
        }

        .list-item {
            padding: 12px;
            background: #f8f9ff;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background 0.2s;
        }

        .list-item:hover {
            background: #e0e7ff;
        }

        .list-item button {
            padding: 6px 12px;
            font-size: 14px;
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }

        .footer {
            text-align: center;
            color: white;
            margin-top: 40px;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 16px;
            backdrop-filter: blur(10px);
        }

        .footer p {
            font-size: 18px;
            margin-bottom: 8px;
        }

        .footer a {
            color: white;
            text-decoration: none;
            font-weight: 600;
        }

        .console-log {
            font-size: 12px;
            color: #666;
            font-style: italic;
            margin-top: 8px;
        }

        .stats-row {
            display: flex;
            justify-content: space-around;
            margin: 16px 0;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: #667eea;
        }

        .stat-label {
            font-size: 12px;
            color: #666;
            text-transform: uppercase;
            margin-top: 4px;
        }
    </style>
</head>
<body>
    <div id="app"></div>

    <script type="module">
        // Import Flexium core functions
        import { signal, computed, effect } from '../dist/index.mjs'
        import { h, createReactiveRoot } from '../dist/dom.mjs'

        console.log('ðŸš€ Flexium.js Showcase Starting...')

        // ==============================================
        // FEATURE 1: Basic Signal (Reactive State)
        // ==============================================
        const counter1 = signal(0)

        // Log changes to console for educational purposes
        effect(() => {
            console.log('ðŸ“Š Counter 1 changed:', counter1.value)
        })

        // ==============================================
        // FEATURE 2: Independent Counter (Multiple Signals)
        // ==============================================
        const counter2 = signal(0)

        effect(() => {
            console.log('ðŸ“Š Counter 2 changed:', counter2.value)
        })

        // ==============================================
        // FEATURE 3: Computed Values (Derived State)
        // ==============================================
        const total = computed(() => {
            const sum = counter1.value + counter2.value
            console.log('ðŸ§® Total computed:', sum)
            return sum
        })

        const average = computed(() => {
            const avg = (counter1.value + counter2.value) / 2
            return avg.toFixed(1)
        })

        // ==============================================
        // FEATURE 4: Input Binding (Text Signal)
        // ==============================================
        const userName = signal('')

        effect(() => {
            console.log('ðŸ‘¤ User name changed:', userName.value)
        })

        // ==============================================
        // FEATURE 5: Conditional Rendering (Show/Hide)
        // ==============================================
        const showSecret = signal(false)

        effect(() => {
            console.log('ðŸ‘ï¸ Show secret:', showSecret.value)
        })

        // ==============================================
        // FEATURE 6: List Rendering (Array Management)
        // ==============================================
        const items = signal([
            { id: 1, text: 'Learn Signals' },
            { id: 2, text: 'Build with Flexium' },
            { id: 3, text: 'Ship Awesome Apps' }
        ])

        let nextId = 4

        function addItem() {
            items.value = [...items.value, { id: nextId++, text: `Item ${nextId - 1}` }]
            console.log('âž• Item added, total items:', items.value.length)
        }

        function removeItem(id) {
            items.value = items.value.filter(item => item.id !== id)
            console.log('âž– Item removed, remaining items:', items.value.length)
        }

        // ==============================================
        // Create UI Components
        // ==============================================

        // Counter 1 Card
        const Counter1Card = h('div', { class: 'card' }, [
            h('h2', {}, [
                h('span', { class: 'feature-icon' }, ['âš¡']),
                'Basic Signal'
            ]),
            h('p', { class: 'subtitle' }, ['Reactive state that updates the DOM automatically']),
            h('div', { class: 'count-display' }, [
                () => String(counter1.value)
            ]),
            h('div', { class: 'button-group' }, [
                h('button', { onclick: () => counter1.value-- }, ['âˆ’1']),
                h('button', { onclick: () => counter1.value = 0 }, ['Reset']),
                h('button', { onclick: () => counter1.value++ }, ['+1']),
                h('button', { onclick: () => counter1.value += 5 }, ['+5'])
            ]),
            h('p', { class: 'console-log' }, ['Check console for logs'])
        ])

        // Counter 2 Card
        const Counter2Card = h('div', { class: 'card' }, [
            h('h2', {}, [
                h('span', { class: 'feature-icon' }, ['ðŸ”„']),
                'Independent Signal'
            ]),
            h('p', { class: 'subtitle' }, ['Multiple signals work independently']),
            h('div', { class: 'count-display' }, [
                () => String(counter2.value)
            ]),
            h('div', { class: 'button-group' }, [
                h('button', { onclick: () => counter2.value -= 2 }, ['âˆ’2']),
                h('button', { onclick: () => counter2.value = 0 }, ['Reset']),
                h('button', { onclick: () => counter2.value += 2 }, ['+2']),
                h('button', { onclick: () => counter2.value += 10 }, ['+10'])
            ])
        ])

        // Computed Values Card
        const ComputedCard = h('div', { class: 'card' }, [
            h('h2', {}, [
                h('span', { class: 'feature-icon' }, ['ðŸ§®']),
                'Computed Values'
            ]),
            h('p', { class: 'subtitle' }, ['Derived values that auto-update']),
            h('div', { class: 'stats-row' }, [
                h('div', { class: 'stat' }, [
                    h('div', { class: 'stat-value' }, [() => String(total.value)]),
                    h('div', { class: 'stat-label' }, ['Total'])
                ]),
                h('div', { class: 'stat' }, [
                    h('div', { class: 'stat-value' }, [() => String(average.value)]),
                    h('div', { class: 'stat-label' }, ['Average'])
                ])
            ]),
            h('p', { class: 'console-log' }, ['Automatically recomputes when counters change'])
        ])

        // Input Binding Card
        const InputCard = h('div', { class: 'card' }, [
            h('h2', {}, [
                h('span', { class: 'feature-icon' }, ['âœï¸']),
                'Input Binding'
            ]),
            h('p', { class: 'subtitle' }, ['Two-way data binding with signals']),
            h('input', {
                type: 'text',
                placeholder: 'Enter your name...',
                value: () => userName.value,
                oninput: (e) => userName.value = e.target.value
            }, []),
            h('div', { class: 'output-text' }, [
                () => userName.value ? `Hello, ${userName.value}! ðŸ‘‹` : 'Type something above...'
            ])
        ])

        // Conditional Rendering Card
        const ConditionalCard = h('div', { class: 'card' }, [
            h('h2', {}, [
                h('span', { class: 'feature-icon' }, ['ðŸ‘ï¸']),
                'Conditional Rendering'
            ]),
            h('p', { class: 'subtitle' }, ['Show/hide content based on state']),
            h('div', { class: 'checkbox-group' }, [
                h('input', {
                    type: 'checkbox',
                    id: 'show-secret',
                    checked: () => showSecret.value,
                    onchange: (e) => showSecret.value = e.target.checked
                }, []),
                h('label', { for: 'show-secret' }, ['Reveal secret message'])
            ]),
            h('div', {
                class: () => showSecret.value ? 'output-text' : 'hidden'
            }, [
                'ðŸŽ‰ You discovered the secret! Flexium is awesome!'
            ])
        ])

        // List Rendering Card
        const ListCard = h('div', { class: 'card' }, [
            h('h2', {}, [
                h('span', { class: 'feature-icon' }, ['ðŸ“']),
                'List Rendering'
            ]),
            h('p', { class: 'subtitle' }, ['Dynamic array rendering with add/remove']),
            h('div', { class: 'button-group' }, [
                h('button', { onclick: addItem }, ['Add Item'])
            ]),
            h('div', { class: 'list-items' }, [
                () => {
                    return items.value.map(item =>
                        h('div', { class: 'list-item', key: item.id }, [
                            h('span', {}, [item.text]),
                            h('button', {
                                class: 'secondary',
                                onclick: () => removeItem(item.id)
                            }, ['Remove'])
                        ])
                    )
                }
            ])
        ])

        // Main App Layout
        const App = h('div', {}, [
            // Header
            h('div', { class: 'header' }, [
                h('h1', {}, ['Flexium.js Showcase']),
                h('p', {}, ['A complete demonstration of all reactive features'])
            ]),

            // Feature Grid
            h('div', { class: 'grid' }, [
                Counter1Card,
                Counter2Card,
                ComputedCard,
                InputCard,
                ConditionalCard,
                ListCard
            ]),

            // Footer
            h('div', { class: 'footer' }, [
                h('p', {}, [
                    h('span', { class: 'badge' }, ['Powered by Flexium.js']),
                ]),
                h('p', {}, ['Fine-grained reactive JavaScript library']),
                h('p', {}, [
                    'Open the console to see reactive updates in action! ',
                    h('span', {}, ['ðŸš€'])
                ])
            ])
        ])

        // ==============================================
        // Render Application
        // ==============================================
        const app = document.getElementById('app')
        const root = createReactiveRoot(app)
        root.render(App)

        console.log('âœ… Flexium.js Showcase Loaded!')
        console.log('ðŸ’¡ Try interacting with the UI and watch the console logs')
    </script>
</body>
</html>
